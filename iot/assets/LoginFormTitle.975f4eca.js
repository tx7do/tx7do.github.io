var h=Object.defineProperty;var P=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var b=(e,s,r)=>s in e?h(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,p=(e,s)=>{for(var r in s||(s={}))T.call(s,r)&&b(e,r,s[r]);if(P)for(var r of P(s))I.call(s,r)&&b(e,r,s[r]);return e};var R=(e,s,r)=>new Promise((t,a)=>{var d=n=>{try{u(r.next(n))}catch(o){a(o)}},F=n=>{try{u(r.throw(n))}catch(o){a(o)}},u=n=>n.done?t(n.value):Promise.resolve(n.value).then(d,F);u((r=r.apply(e,s)).next())});import{b as O}from"./index.43dbecee.js";import{r as v,j as i,u as l,B as w,D as x,F as E,K as j}from"./vendor.c791f568.js";var c;(function(e){e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER",e[e.RESET_PASSWORD=2]="RESET_PASSWORD",e[e.MOBILE=3]="MOBILE",e[e.QR_CODE=4]="QR_CODE"})(c||(c={}));const y=v(0);function B(){function e(t){y.value=t}const s=i(()=>y.value);function r(){e(0)}return{setLoginState:e,getLoginState:s,handleBackLogin:r}}function N(e){function s(){return R(this,null,function*(){const r=l(e);return r?yield r.validate():void 0})}return{validForm:s}}function k(e){const{t:s}=O(),r=i(()=>f(s("sys.login.usernamePlaceholder"))),t=i(()=>f(s("sys.login.passwordPlaceholder"))),a=i(()=>f(s("sys.login.smsPlaceholder"))),d=i(()=>f(s("sys.login.mobilePlaceholder"))),F=(o,m)=>R(this,null,function*(){return m?Promise.resolve():Promise.reject(s("sys.login.policyPlaceholder"))}),u=o=>(m,g)=>R(this,null,function*(){return g?g!==o?Promise.reject(s("sys.login.diffPwd")):Promise.resolve():Promise.reject(s("sys.login.passwordPlaceholder"))});return{getFormRules:i(()=>{const o=l(r),m=l(t),g=l(a),S=l(d),_={sms:g,mobile:S};switch(l(y)){case 1:return p({username:o,password:m,confirmPassword:[{validator:u(e==null?void 0:e.password),trigger:"change"}],policy:[{validator:F,trigger:"change"}]},_);case 2:return p({username:o},_);case 3:return _;default:return{username:o,password:m}}})}}function f(e){return[{required:!0,message:e,trigger:"change"}]}const G={class:"mb-3 text-2xl font-bold text-center xl:text-3xl enter-x xl:text-left"},C=w({setup(e){const{t:s}=O(),{getLoginState:r}=B(),t=i(()=>({[c.RESET_PASSWORD]:s("sys.login.forgetFormTitle"),[c.LOGIN]:s("sys.login.signInFormTitle"),[c.REGISTER]:s("sys.login.signUpFormTitle"),[c.MOBILE]:s("sys.login.mobileSignInFormTitle"),[c.QR_CODE]:s("sys.login.qrSignInFormTitle")})[l(r)]);return(a,d)=>(x(),E("h2",G,j(l(t)),1))}});var A=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:C});export{c as L,C as _,k as a,N as b,A as c,B as u};
