var y=(_,c,r)=>new Promise((t,l)=>{var p=e=>{try{i(r.next(e))}catch(n){l(n)}},u=e=>{try{i(r.throw(e))}catch(n){l(n)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(p,u);i((r=r.apply(_,c)).next())});import{B as v,r as h,T as C,a0 as E,n as D,a1 as k,D as j,F as x,ab as R,ap as A,G as B,H as S,w as s,u as o,a6 as a,ae as b,K as g}from"./vendor.c791f568.js";import V from"./DetailModal.ec1a8e53.js";import{u as F,B as I}from"./useTable.5877824c.js";import{T as M}from"./useForm.6d685771.js";import{a as H}from"./index.21bdc8a6.js";import{b as N,aU as $}from"./index.43dbecee.js";import{getColumns as z}from"./data.621a817e.js";import"./index.fef5bf6f.js";/* empty css              */import"./index.15a1f9fd.js";/* empty css                *//* empty css                */import"./useWindowSizeFn.082ebc71.js";import"./useContentViewHeight.fe17f3be.js";/* empty css                *//* empty css               *//* empty css               *//* empty css               */import"./sortable.esm.4098c16e.js";/* empty css                *//* empty css               *//* empty css               */import"./index.bc57f707.js";/* empty css                */import"./download.c5d79b2d.js";import"./index.e9640970.js";const G={class:"p-4"},K=["src"],ge=v({setup(_){const c=h(),r=h([]),{t}=N(),l=$(),[p,{setTableData:u}]=F({title:t("sys.errorLog.tableTitle"),columns:z(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[i,{openModal:e}]=H();C(()=>l.getErrorLogInfoList,m=>{E(()=>{u(D(m))})},{immediate:!0});function n(m){c.value=m,e(!0)}function w(){throw new Error("fire vue error!")}function L(){r.value.push(`${new Date().getTime()}.png`)}function T(){return y(this,null,function*(){})}return(m,U)=>{const f=k("a-button");return j(),x("div",G,[(j(!0),x(R,null,A(r.value,d=>B((j(),x("img",{key:d,src:d},null,8,K)),[[S,!1]])),128)),s(V,{info:c.value,onRegister:o(i)},null,8,["info","onRegister"]),s(o(I),{onRegister:o(p),class:"error-handle-table"},{toolbar:a(()=>[s(f,{onClick:w,type:"primary"},{default:a(()=>[b(g(o(t)("sys.errorLog.fireVueError")),1)]),_:1}),s(f,{onClick:L,type:"primary"},{default:a(()=>[b(g(o(t)("sys.errorLog.fireResourceError")),1)]),_:1}),s(f,{onClick:T,type:"primary"},{default:a(()=>[b(g(o(t)("sys.errorLog.fireAjaxError")),1)]),_:1})]),action:a(({record:d})=>[s(o(M),{actions:[{label:o(t)("sys.errorLog.tableActionDesc"),onClick:n.bind(null,d)}]},null,8,["actions"])]),_:1},8,["onRegister"])])}}});export{ge as default};
