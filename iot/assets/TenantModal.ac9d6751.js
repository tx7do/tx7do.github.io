var v=Object.defineProperty,C=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var F=(e,s,t)=>s in e?v(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,d=(e,s)=>{for(var t in s||(s={}))b.call(s,t)&&F(e,t,s[t]);if(f)for(var t of f(s))j.call(s,t)&&F(e,t,s[t]);return e},g=(e,s)=>C(e,D(s));var m=(e,s,t)=>new Promise((n,r)=>{var c=a=>{try{u(t.next(a))}catch(i){r(i)}},l=a=>{try{u(t.throw(a))}catch(i){r(i)}},u=a=>a.done?n(a.value):Promise.resolve(a.value).then(c,l);u((t=t.apply(e,s)).next())});import{B as w,u as I}from"./index.6fb8f263.js";import{B as T,u as R}from"./useForm.af1f2fab.js";import{A as k,bt as x,B as y,r as h,u as p,j as E,a1 as B,D as $,a2 as O,a6 as A,w as L,a5 as P}from"./vendor.c791f568.js";/* empty css               */import{h as U,_ as V}from"./index.687e5dce.js";import{j as q}from"./system.4270278e.js";const ee=[{title:"\u5934\u50CF",dataIndex:"avatar",width:80,slots:{customRender:"avatar"}},{title:"\u540D\u79F0",dataIndex:"name"},{title:"\u6210\u5458\u6570",dataIndex:"clientCount",slots:{customRender:"clientCount"}},{title:"\u72B6\u6001",dataIndex:"status",width:120,customRender:({record:e})=>(Reflect.has(e,"pendingStatus")||(e.pendingStatus=!1),k(x,{checked:e.status==="1",checkedChildren:"\u5DF2\u542F\u7528",unCheckedChildren:"\u5DF2\u7981\u7528",loading:e.pendingStatus,onChange(s){e.pendingStatus=!0;const t=s?"1":"0",{createMessage:n}=U();q(e.id,t).then(()=>{e.status=t,n.success("\u5DF2\u6210\u529F\u4FEE\u6539\u79DF\u6237\u7684\u72B6\u6001")}).catch(()=>{n.error("\u4FEE\u6539\u79DF\u6237\u7684\u72B6\u6001\u5931\u8D25")}).finally(()=>{e.pendingStatus=!1})}}))},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime"}],te=[{field:"name",label:"\u540D\u79F0",component:"Input",colProps:{span:8}}],z=[{field:"username",label:"\u6635\u79F0",component:"Input",required:!0}],G=y({name:"TenantModal",components:{BasicModal:w,BasicForm:T},emits:["success","register"],setup(e,{emit:s}){const t=h(!0),n=h(""),[r,{setFieldsValue:c,resetFields:l,validate:u}]=R({labelWidth:100,schemas:z,showActionButtonGroup:!1,actionColOptions:{span:23}}),[a,{setModalProps:i,closeModal:S}]=I(o=>m(this,null,function*(){l(),i({confirmLoading:!1}),t.value=!!(o==null?void 0:o.isUpdate),p(t)&&(n.value=o.record.id,c(d({},o.record)))})),M=E(()=>p(t)?"\u7F16\u8F91\u8D26\u53F7":"\u65B0\u589E\u8D26\u53F7");function _(){return m(this,null,function*(){try{const o=yield u();i({confirmLoading:!0}),console.log(o),S(),s("success",{isUpdate:p(t),values:g(d({},o),{id:n.value})})}finally{i({confirmLoading:!1})}})}return{registerModal:a,registerForm:r,getTitle:M,handleSubmit:_}}});function N(e,s,t,n,r,c){const l=B("BasicForm"),u=B("BasicModal");return $(),O(u,P(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onOk:e.handleSubmit}),{default:A(()=>[L(l,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var W=V(G,[["render",N]]),se=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W});export{W as T,se as a,ee as c,te as s};
