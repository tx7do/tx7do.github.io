import{B as h,u as b}from"./useTable.3389cf2c.js";import{T as g}from"./useForm.f49455ca.js";import{a as j}from"./network.767631d9.js";import{a as F}from"./index.a505caf8.js";import{a as x}from"./index.ab371c9f.js";import{A as C,bt as _,B as I,Q as S,a1 as s,D as T,F as w,w as i,a6 as r,ae as D}from"./vendor.c791f568.js";/* empty css               */import{G as E}from"./system.223670c5.js";import{h as B,_ as k}from"./index.fa3b631c.js";/* empty css              *//* empty css                *//* empty css               */import"./useWindowSizeFn.082ebc71.js";/* empty css               */import"./sortable.esm.4098c16e.js";/* empty css                *//* empty css               *//* empty css               */import"./index.d59f50c8.js";/* empty css                */import"./download.173db817.js";import"./index.8544b9dd.js";/* empty css                *//* empty css                */import"./useContentViewHeight.a061ce43.js";const P=[{title:"\u7F16\u53F7",dataIndex:"type"},{title:"\u540D\u79F0",dataIndex:"name"},{title:"\u72B6\u6001",dataIndex:"status",width:120,customRender:({record:e})=>(Reflect.has(e,"pendingStatus")||(e.pendingStatus=!1),C(_,{checked:e.status==="1",checkedChildren:"\u5DF2\u53D1\u5E03",unCheckedChildren:"\u672A\u53D1\u5E03",loading:e.pendingStatus,onChange(u){e.pendingStatus=!0;const n=u?"1":"0",{createMessage:t}=B();E(e.id).then(()=>{e.status=n,t.success("\u5DF2\u6210\u529F\u4FEE\u6539\u72B6\u6001")}).catch(()=>{t.error("\u4FEE\u6539\u72B6\u6001\u5931\u8D25")}).finally(()=>{e.pendingStatus=!1})}}))},{title:"\u63CF\u8FF0",dataIndex:"description"}],y=[{field:"type",label:"\u7F16\u53F7",component:"Input",colProps:{span:8}},{field:"name",label:"\u540D\u79F0",component:"Input",colProps:{span:8}}],A=I({name:"ProtocolManagement",components:{BasicTable:h,PageWrapper:F,TableAction:g},setup(){const[e,{openModal:u}]=x(),n=S({}),[t,{reload:m,updateTableDataRecord:f}]=b({title:"\u5217\u8868",api:j,rowKey:"id",columns:P,formConfig:{labelWidth:120,schemas:y,autoSubmitOnEnter:!0},useSearchForm:!0,showTableSetting:!0,bordered:!0,handleSearchInfoFn(o){return console.log("handleSearchInfoFn",o),o},actionColumn:{width:300,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"}}});function l(o){}function d(o){}function c(){}function p(){}function a(){}return{registerTable:t,registerModal:e,searchInfo:n,handleEdit:l,handleDelete:d,handleCreate:c,handleExport:p,handleImport:a}}}),M=D(" \u65B0\u589E ");function R(e,u,n,t,m,f){const l=s("a-button"),d=s("TableAction"),c=s("BasicTable"),p=s("PageWrapper");return T(),w("div",null,[i(p,{dense:"",contentFullHeight:"",fixedHeight:""},{default:r(()=>[i(c,{onRegister:e.registerTable,searchInfo:e.searchInfo},{toolbar:r(()=>[i(l,{preIcon:"ant-design:file-add-filled",type:"primary",onClick:e.handleCreate},{default:r(()=>[M]),_:1},8,["onClick"])]),action:r(({record:a})=>[i(d,{actions:[{label:"\u7F16\u8F91",onClick:e.handleEdit.bind(null,a)},{label:"\u5220\u9664",onClick:e.handleDelete.bind(null,a)}]},null,8,["actions"])]),_:1},8,["onRegister","searchInfo"])]),_:1})])}var re=k(A,[["render",R]]);export{re as default};
