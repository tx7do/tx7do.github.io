import{B as h,u as b}from"./useTable.841de196.js";import{T as F}from"./useForm.4be87320.js";import{b as g}from"./network.27b48d25.js";import{a as j}from"./index.f470c402.js";import{a as x}from"./index.90ba8760.js";import{A as C,bt as _,B as I,Q as w,a1 as s,D as B,F as S,w as i,a6 as r,ae as T}from"./vendor.c791f568.js";/* empty css               */import{G as E}from"./system.84e21f85.js";import{h as D,_ as k}from"./index.938152da.js";/* empty css              *//* empty css                *//* empty css               */import"./useWindowSizeFn.082ebc71.js";/* empty css               */import"./sortable.esm.4098c16e.js";/* empty css                *//* empty css               *//* empty css               */import"./index.1f817edf.js";/* empty css                */import"./download.4cd8af5f.js";import"./index.419889a4.js";/* empty css                *//* empty css                */import"./useContentViewHeight.8dcfbea1.js";const y=[{title:"\u540D\u79F0",dataIndex:"name"},{title:"\u7C7B\u578B",dataIndex:"provider"},{title:"\u7F51\u7EDC\u7EC4\u4EF6",dataIndex:"networkId"},{title:"\u72B6\u6001",dataIndex:"status",width:120,customRender:({record:e})=>(Reflect.has(e,"pendingStatus")||(e.pendingStatus=!1),C(_,{checked:e.status==="1",checkedChildren:"\u5DF2\u542F\u52A8",unCheckedChildren:"\u5DF2\u505C\u6B62",loading:e.pendingStatus,onChange(u){e.pendingStatus=!0;const n=u?"1":"0",{createMessage:t}=D();E(e.id).then(()=>{e.status=n,t.success("\u5DF2\u6210\u529F\u4FEE\u6539\u72B6\u6001")}).catch(()=>{t.error("\u4FEE\u6539\u72B6\u6001\u5931\u8D25")}).finally(()=>{e.pendingStatus=!1})}}))},{title:"\u63CF\u8FF0",dataIndex:"description"}],P=[{field:"type",label:"\u7F16\u53F7",component:"Input",colProps:{span:8}},{field:"name",label:"\u540D\u79F0",component:"Input",colProps:{span:8}}],v=I({name:"ProtocolManagement",components:{BasicTable:h,PageWrapper:j,TableAction:F},setup(){const[e,{openModal:u}]=x(),n=w({}),[t,{reload:m,updateTableDataRecord:f}]=b({title:"\u5217\u8868",api:g,rowKey:"id",columns:y,formConfig:{labelWidth:120,schemas:P,autoSubmitOnEnter:!0},useSearchForm:!0,showTableSetting:!0,bordered:!0,handleSearchInfoFn(o){return console.log("handleSearchInfoFn",o),o},actionColumn:{width:300,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"}}});function d(o){}function l(o){}function c(){}function p(){}function a(){}return{registerTable:t,registerModal:e,searchInfo:n,handleEdit:d,handleDelete:l,handleCreate:c,handleExport:p,handleImport:a}}}),A=T(" \u65B0\u589E ");function M(e,u,n,t,m,f){const d=s("a-button"),l=s("TableAction"),c=s("BasicTable"),p=s("PageWrapper");return B(),S("div",null,[i(p,{dense:"",contentFullHeight:"",fixedHeight:""},{default:r(()=>[i(c,{onRegister:e.registerTable,searchInfo:e.searchInfo},{toolbar:r(()=>[i(d,{preIcon:"ant-design:file-add-filled",type:"primary",onClick:e.handleCreate},{default:r(()=>[A]),_:1},8,["onClick"])]),action:r(({record:a})=>[i(l,{actions:[{label:"\u7F16\u8F91",onClick:e.handleEdit.bind(null,a)},{label:"\u5220\u9664",onClick:e.handleDelete.bind(null,a)}]},null,8,["actions"])]),_:1},8,["onRegister","searchInfo"])]),_:1})])}var re=k(v,[["render",M]]);export{re as default};
