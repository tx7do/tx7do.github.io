import{B as g,u as F}from"./useTable.841de196.js";import{T as j}from"./useForm.4be87320.js";import{G as f}from"./system.84e21f85.js";import{a as C}from"./index.f470c402.js";import{a as x}from"./index.90ba8760.js";import{A as _,bt as I,B as S,Q as T,a1 as u,D as k,F as B,w as t,a6 as n,ae as m}from"./vendor.c791f568.js";/* empty css               */import{h as w,_ as D}from"./index.938152da.js";/* empty css              *//* empty css                *//* empty css               */import"./useWindowSizeFn.082ebc71.js";/* empty css               */import"./sortable.esm.4098c16e.js";/* empty css                *//* empty css               *//* empty css               */import"./index.1f817edf.js";/* empty css                */import"./download.4cd8af5f.js";import"./index.419889a4.js";/* empty css                *//* empty css                */import"./useContentViewHeight.8dcfbea1.js";const E=[{title:"\u7F16\u53F7",dataIndex:"type"},{title:"\u540D\u79F0",dataIndex:"name"},{title:"\u72B6\u6001",dataIndex:"status",width:120,customRender:({record:e})=>(Reflect.has(e,"pendingStatus")||(e.pendingStatus=!1),_(I,{checked:e.status==="1",checkedChildren:"\u5DF2\u542F\u7528",unCheckedChildren:"\u5DF2\u7981\u7528",loading:e.pendingStatus,onChange(l){e.pendingStatus=!0;const s=l?"1":"0",{createMessage:o}=w();f(e.id).then(()=>{e.status=s,o.success("\u5DF2\u6210\u529F\u4FEE\u6539\u72B6\u6001")}).catch(()=>{o.error("\u4FEE\u6539\u72B6\u6001\u5931\u8D25")}).finally(()=>{e.pendingStatus=!1})}}))}],y=[{field:"type",label:"\u7F16\u53F7",component:"Input",colProps:{span:8}},{field:"name",label:"\u540D\u79F0",component:"Input",colProps:{span:8}}],P=S({name:"PermissionManagement",components:{BasicTable:g,PageWrapper:C,TableAction:j},setup(){const[e,{openModal:l}]=x(),s=T({}),[o,{reload:h,updateTableDataRecord:b}]=F({title:"\u5217\u8868",api:f,rowKey:"id",columns:E,formConfig:{labelWidth:120,schemas:y,autoSubmitOnEnter:!0},useSearchForm:!0,showTableSetting:!0,bordered:!0,handleSearchInfoFn(r){return console.log("handleSearchInfoFn",r),r},actionColumn:{width:300,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"}}});function a(r){}function d(r){}function c(){}function p(){}function i(){}return{registerTable:o,registerModal:e,searchInfo:s,handleEdit:a,handleDelete:d,handleCreate:c,handleExport:p,handleImport:i}}}),A=m(" \u65B0\u589E "),M=m(" \u5BFC\u5165 "),R=m(" \u5BFC\u51FA ");function v(e,l,s,o,h,b){const a=u("a-button"),d=u("TableAction"),c=u("BasicTable"),p=u("PageWrapper");return k(),B("div",null,[t(p,{dense:"",contentFullHeight:"",fixedHeight:""},{default:n(()=>[t(c,{onRegister:e.registerTable,searchInfo:e.searchInfo},{toolbar:n(()=>[t(a,{preIcon:"ant-design:file-add-filled",type:"primary",onClick:e.handleCreate},{default:n(()=>[A]),_:1},8,["onClick"]),t(a,{preIcon:"ant-design:import-outlined",type:"default",onClick:e.handleImport},{default:n(()=>[M]),_:1},8,["onClick"]),t(a,{preIcon:"ant-design:export-outlined",type:"default",onClick:e.handleExport},{default:n(()=>[R]),_:1},8,["onClick"])]),action:n(({record:i})=>[t(d,{actions:[{label:"\u7F16\u8F91",onClick:e.handleEdit.bind(null,i)},{label:"\u5220\u9664",onClick:e.handleDelete.bind(null,i)}]},null,8,["actions"])]),_:1},8,["onRegister","searchInfo"])]),_:1})])}var re=D(P,[["render",v]]);export{re as default};
