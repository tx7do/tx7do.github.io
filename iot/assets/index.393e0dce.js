import{B as F,u as g}from"./useTable.841de196.js";import{T as j}from"./useForm.4be87320.js";import{a as x}from"./rule-engine.260da7b4.js";import{a as C}from"./index.f470c402.js";import{a as _}from"./index.90ba8760.js";import{A as I,bt as S,B as D,Q as T,a1 as l,D as B,F as w,w as o,a6 as s,ae as m}from"./vendor.c791f568.js";/* empty css               */import{G as E}from"./system.84e21f85.js";import{h as k,_ as R}from"./index.938152da.js";/* empty css              *//* empty css                *//* empty css               */import"./useWindowSizeFn.082ebc71.js";/* empty css               */import"./sortable.esm.4098c16e.js";/* empty css                *//* empty css               *//* empty css               */import"./index.1f817edf.js";/* empty css                */import"./download.4cd8af5f.js";import"./index.419889a4.js";/* empty css                *//* empty css                */import"./useContentViewHeight.8dcfbea1.js";const y=[{title:"\u7F16\u53F7",dataIndex:"id"},{title:"\u540D\u79F0",dataIndex:"name"},{title:"\u72B6\u6001",dataIndex:"status",width:120,customRender:({record:e})=>(Reflect.has(e,"pendingStatus")||(e.pendingStatus=!1),I(S,{checked:e.status==="1",checkedChildren:"\u5DF2\u542F\u7528",unCheckedChildren:"\u5DF2\u7981\u7528",loading:e.pendingStatus,onChange(r){e.pendingStatus=!0;const i=r?"1":"0",{createMessage:n}=k();E(e.id).then(()=>{e.status=i,n.success("\u5DF2\u6210\u529F\u4FEE\u6539\u72B6\u6001")}).catch(()=>{n.error("\u4FEE\u6539\u72B6\u6001\u5931\u8D25")}).finally(()=>{e.pendingStatus=!1})}}))},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime"}],A=[{field:"id",label:"\u7F16\u53F7",component:"Input",colProps:{span:8}},{field:"name",label:"\u540D\u79F0",component:"Input",colProps:{span:8}}],M=D({name:"SqlRuleManagement",components:{BasicTable:F,PageWrapper:C,TableAction:j},setup(){const[e,{openModal:r}]=_(),i=T({}),[n,{reload:f,updateTableDataRecord:h}]=g({title:"\u5217\u8868",api:x,rowKey:"id",columns:y,formConfig:{labelWidth:120,schemas:A,autoSubmitOnEnter:!0},useSearchForm:!0,showTableSetting:!0,bordered:!0,handleSearchInfoFn(a){return console.log("handleSearchInfoFn",a),a},actionColumn:{width:300,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"}}});function u(a){}function d(a){}function c(a){}function p(){}function t(){}function b(){}return{registerTable:n,registerModal:e,searchInfo:i,handleEdit:u,handleDelete:c,handleCreate:p,handleExport:t,handleImport:b,handleDownload:d}}}),P=m(" \u65B0\u589E "),v=m(" \u5BFC\u5165 ");function W(e,r,i,n,f,h){const u=l("a-button"),d=l("TableAction"),c=l("BasicTable"),p=l("PageWrapper");return B(),w("div",null,[o(p,{dense:"",contentFullHeight:"",fixedHeight:""},{default:s(()=>[o(c,{onRegister:e.registerTable,searchInfo:e.searchInfo},{toolbar:s(()=>[o(u,{preIcon:"ant-design:file-add-filled",type:"primary",onClick:e.handleCreate},{default:s(()=>[P]),_:1},8,["onClick"]),o(u,{preIcon:"ant-design:import-outlined",type:"default",onClick:e.handleImport},{default:s(()=>[v]),_:1},8,["onClick"])]),action:s(({record:t})=>[o(d,{actions:[{label:"\u7F16\u8F91",onClick:e.handleEdit.bind(null,t)},{label:"\u4E0B\u8F7D\u914D\u7F6E",onClick:e.handleDownload.bind(null,t)},{label:"\u5220\u9664",onClick:e.handleDelete.bind(null,t)}]},null,8,["actions"])]),_:1},8,["onRegister","searchInfo"])]),_:1})])}var re=R(M,[["render",W]]);export{re as default};
