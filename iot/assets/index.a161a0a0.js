import{a as j}from"./index.15a1f9fd.js";import L from"./MapManipulateForm.754048ad.js";import y from"./DevicePanel.b7148c1d.js";import{ca as P,B as k,aR as C,$ as D,a1 as I,D as S,a2 as F,a6 as E,J as h,w as b,N as W,O as $}from"./vendor.c791f568.js";import{_ as z}from"./index.43dbecee.js";/* empty css                *//* empty css                */import"./useWindowSizeFn.082ebc71.js";import"./useContentViewHeight.fe17f3be.js";/* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css               */import"./useForm.6d685771.js";/* empty css               *//* empty css              *//* empty css               *//* empty css                */import"./index.bc57f707.js";import"./index.21bdc8a6.js";import"./download.c5d79b2d.js";import"./index.e9640970.js";import"./DeviceList.0f470a8d.js";import"./useTable.5877824c.js";import"./sortable.esm.4098c16e.js";/* empty css                */import"./device.e24a9175.js";import"./DeviceAlarm.d6b268e3.js";var _={exports:{}};(function(l,g){(function(m,f){l.exports=f()})(P,function(){function m(e){var s=[];return e.AMapUI&&s.push(f(e.AMapUI)),e.Loca&&s.push(A(e.Loca)),Promise.all(s)}function f(e){return new Promise(function(s,i){var t=[];if(e.plugins)for(var a=0;a<e.plugins.length;a+=1)n.AMapUI.plugins.indexOf(e.plugins[a])==-1&&t.push(e.plugins[a]);if(p.AMapUI===o.failed)i("\u524D\u6B21\u8BF7\u6C42 AMapUI \u5931\u8D25");else if(p.AMapUI===o.notload){p.AMapUI=o.loading,n.AMapUI.version=e.version||n.AMapUI.version,a=n.AMapUI.version;var d=document.body||document.head,r=document.createElement("script");r.type="text/javascript",r.src="https://webapi.amap.com/ui/"+a+"/main.js",r.onerror=function(u){p.AMapUI=o.failed,i("\u8BF7\u6C42 AMapUI \u5931\u8D25")},r.onload=function(){if(p.AMapUI=o.loaded,t.length)window.AMapUI.loadUI(t,function(){for(var u=0,M=t.length;u<M;u++){var v=t[u].split("/").slice(-1)[0];window.AMapUI[v]=arguments[u]}for(s();c.AMapUI.length;)c.AMapUI.splice(0,1)[0]()});else for(s();c.AMapUI.length;)c.AMapUI.splice(0,1)[0]()},d.appendChild(r)}else p.AMapUI===o.loaded?e.version&&e.version!==n.AMapUI.version?i("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):t.length?window.AMapUI.loadUI(t,function(){for(var u=0,M=t.length;u<M;u++){var v=t[u].split("/").slice(-1)[0];window.AMapUI[v]=arguments[u]}s()}):s():e.version&&e.version!==n.AMapUI.version?i("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):c.AMapUI.push(function(u){u?i(u):t.length?window.AMapUI.loadUI(t,function(){for(var M=0,v=t.length;M<v;M++){var x=t[M].split("/").slice(-1)[0];window.AMapUI[x]=arguments[M]}s()}):s()})})}function A(e){return new Promise(function(s,i){if(p.Loca===o.failed)i("\u524D\u6B21\u8BF7\u6C42 Loca \u5931\u8D25");else if(p.Loca===o.notload){p.Loca=o.loading,n.Loca.version=e.version||n.Loca.version;var t=n.Loca.version,a=n.AMap.version.startsWith("2"),d=t.startsWith("2");if(a&&!d||!a&&d)i("JSAPI \u4E0E Loca \u7248\u672C\u4E0D\u5BF9\u5E94\uFF01\uFF01");else{a=n.key,d=document.body||document.head;var r=document.createElement("script");r.type="text/javascript",r.src="https://webapi.amap.com/loca?v="+t+"&key="+a,r.onerror=function(u){p.Loca=o.failed,i("\u8BF7\u6C42 AMapUI \u5931\u8D25")},r.onload=function(){for(p.Loca=o.loaded,s();c.Loca.length;)c.Loca.splice(0,1)[0]()},d.appendChild(r)}}else p.Loca===o.loaded?e.version&&e.version!==n.Loca.version?i("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):s():e.version&&e.version!==n.Loca.version?i("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):c.Loca.push(function(u){u?i(u):i()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var o;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(o||(o={}));var n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},p={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},c={AMap:[],AMapUI:[],Loca:[]},w=[],U=function(e){typeof e=="function"&&(p.AMap===o.loaded?e(window.AMap):w.push(e))};return{load:function(e){return new Promise(function(s,i){if(p.AMap==o.failed)i("");else if(p.AMap==o.notload){var t=e.key,a=e.version,d=e.plugins;t?(window.AMap&&location.host!=="lbs.amap.com"&&i("\u7981\u6B62\u591A\u79CDAPI\u52A0\u8F7D\u65B9\u5F0F\u6DF7\u7528"),n.key=t,n.AMap.version=a||n.AMap.version,n.AMap.plugins=d||n.AMap.plugins,p.AMap=o.loading,a=document.body||document.head,window.___onAPILoaded=function(u){if(delete window.___onAPILoaded,u)p.AMap=o.failed,i(u);else for(p.AMap=o.loaded,m(e).then(function(){s(window.AMap)}).catch(i);w.length;)w.splice(0,1)[0]()},d=document.createElement("script"),d.type="text/javascript",d.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+n.AMap.version+"&key="+t+"&plugin="+n.AMap.plugins.join(","),d.onerror=function(u){p.AMap=o.failed,i(u)},a.appendChild(d)):i("\u8BF7\u586B\u5199key")}else if(p.AMap==o.loaded)if(e.key&&e.key!==n.key)i("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(e.version&&e.version!==n.AMap.version)i("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{if(t=[],e.plugins)for(a=0;a<e.plugins.length;a+=1)n.AMap.plugins.indexOf(e.plugins[a])==-1&&t.push(e.plugins[a]);t.length?window.AMap.plugin(t,function(){m(e).then(function(){s(window.AMap)}).catch(i)}):m(e).then(function(){s(window.AMap)}).catch(i)}else if(e.key&&e.key!==n.key)i("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(e.version&&e.version!==n.AMap.version)i("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{var r=[];if(e.plugins)for(a=0;a<e.plugins.length;a+=1)n.AMap.plugins.indexOf(e.plugins[a])==-1&&r.push(e.plugins[a]);U(function(){r.length?window.AMap.plugin(r,function(){m(e).then(function(){s(window.AMap)}).catch(i)}):m(e).then(function(){s(window.AMap)}).catch(i)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},p={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},c={AMap:[],AMapUI:[],Loca:[]}}}})})(_);var B=_.exports;const J=k({name:"DeviceLocation",components:{PageWrapper:j,MapManipulateForm:L,DevicePanel:y},props:{},setup(){var l=C(null);function g(){B.load({key:"86ed0e2514a8f8961b076429efea879e",version:"2.0",plugins:[""]}).then(f=>{l=new f.Map("mapContainer",{viewMode:"3D",zoom:11,center:[114.310394,30.598179]}),m()}).catch(f=>{console.log(f)})}function m(){var f=[114.304934,30.594375],A={type:"image",image:"https://a.amap.com/jsapi_demos/static/demo-center/marker/express2.png",size:[64,30],anchor:"center"},o={content:"\u4E2D\u90AE\u901F\u9012\u6613",direction:"right",offset:[-20,-5],style:{fontSize:12,fillColor:"#22886f",strokeColor:"#fff",strokeWidth:2}},n=new AMap.LabelMarker({name:"\u6807\u6CE82",position:f,zIndex:16,icon:A,text:o});l.add(n)}return D(()=>{g()}),{map:l}}}),O=l=>(W("data-v-9a7f8852"),l=l(),$(),l),H=O(()=>h("div",{id:"mapContainer"},null,-1)),N={id:"toolbar"};function V(l,g,m,f,A,o){const n=I("MapManipulateForm"),p=I("DevicePanel"),c=I("PageWrapper");return S(),F(c,{contentFullHeight:"",fixedHeight:""},{default:E(()=>[H,h("div",N,[b(n),b(p)])]),_:1})}var he=z(J,[["render",V],["__scopeId","data-v-9a7f8852"]]);export{he as default};
