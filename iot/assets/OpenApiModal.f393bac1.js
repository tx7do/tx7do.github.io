var b=Object.defineProperty,D=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var h=(e,s,t)=>s in e?b(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,d=(e,s)=>{for(var t in s||(s={}))_.call(s,t)&&h(e,t,s[t]);if(f)for(var t of f(s))C.call(s,t)&&h(e,t,s[t]);return e},g=(e,s)=>D(e,M(s));var p=(e,s,t)=>new Promise((a,r)=>{var c=n=>{try{u(t.next(n))}catch(i){r(i)}},l=n=>{try{u(t.throw(n))}catch(i){r(i)}},u=n=>n.done?a(n.value):Promise.resolve(n.value).then(c,l);u((t=t.apply(e,s)).next())});import{B as v,u as k}from"./index.21bdc8a6.js";import{B as O,u as j}from"./useForm.6d685771.js";import{A as x,bt as y,B as A,r as F,u as m,j as E,a1 as B,D as R,a2 as $,a6 as P,w as T,a5 as L}from"./vendor.c791f568.js";/* empty css               */import{h as N,_ as U}from"./index.43dbecee.js";import{f as q}from"./system.83b27123.js";const ee=[{title:"ClientID",dataIndex:"clientID",width:210},{title:"\u540D\u79F0",dataIndex:"clientName",width:120},{title:"\u7528\u6237\u540D",dataIndex:"username",width:120},{title:"\u72B6\u6001",dataIndex:"status",width:120,customRender:({record:e})=>(Reflect.has(e,"pendingStatus")||(e.pendingStatus=!1),x(y,{checked:e.status==="1",checkedChildren:"\u5DF2\u542F\u7528",unCheckedChildren:"\u5DF2\u7981\u7528",loading:e.pendingStatus,onChange(s){e.pendingStatus=!0;const t=s?"1":"0",{createMessage:a}=N();q(e.id,t).then(()=>{e.status=t,a.success("\u5DF2\u6210\u529F\u4FEE\u6539\u72B6\u6001")}).catch(()=>{a.error("\u4FEE\u6539\u72B6\u6001\u5931\u8D25")}).finally(()=>{e.pendingStatus=!1})}}))},{title:"\u8BF4\u660E",dataIndex:"remark",width:200}],te=[{field:"clientName",label:"\u540D\u79F0",component:"Input",colProps:{span:8}},{field:"clientID",label:"ClientID",component:"Input",colProps:{span:8}}],V=[{field:"pwd",label:"\u5BC6\u7801",component:"InputPassword",required:!0,ifShow:!1},{field:"username",label:"\u6635\u79F0",component:"Input",required:!0},{label:"\u5907\u6CE8",field:"remark",component:"InputTextArea"}],z=A({name:"OpenApiModal",components:{BasicModal:v,BasicForm:O},emits:["success","register"],setup(e,{emit:s}){const t=F(!0),a=F(""),[r,{setFieldsValue:c,resetFields:l,validate:u}]=j({labelWidth:100,schemas:V,showActionButtonGroup:!1,actionColOptions:{span:23}}),[n,{setModalProps:i,closeModal:I}]=k(o=>p(this,null,function*(){l(),i({confirmLoading:!1}),t.value=!!(o==null?void 0:o.isUpdate),m(t)&&(a.value=o.record.id,c(d({},o.record)))})),S=E(()=>m(t)?"\u7F16\u8F91\u8D26\u53F7":"\u65B0\u589E\u8D26\u53F7");function w(){return p(this,null,function*(){try{const o=yield u();i({confirmLoading:!0}),console.log(o),I(),s("success",{isUpdate:m(t),values:g(d({},o),{id:a.value})})}finally{i({confirmLoading:!1})}})}return{registerModal:n,registerForm:r,getTitle:S,handleSubmit:w}}});function G(e,s,t,a,r,c){const l=B("BasicForm"),u=B("BasicModal");return R(),$(u,L(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onOk:e.handleSubmit}),{default:P(()=>[T(l,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var W=U(z,[["render",G]]),se=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W});export{W as O,se as a,ee as c,te as s};
