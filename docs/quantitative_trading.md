# 量化交易

「程序交易」（Program Trading）也可以称为「量化交易」（Quantitative Trading） ，投资人通过计算机程序「全自动」执行投资交易。

其优势在于可以大量节省时间盯盘，也可以同时关注多种商品。程序交易可以避免人性的主观影响，透过软件严格执行保持交易的一致性。

## 什么是量化交易？起源为何？

- 量化交易简单来说就是将自己的金融操作方式，用很明确的方式去定义和描述，透过程序去回测验证，评估后确认方法具有交易优势后，让程序依照所设定的规则去执行交易。

- 量化交易开始于1980年代初，大型投资机构利用程序设计的方式将交易规则明确的以程序语言定义，将交易流程系统化，至今有大多数的对冲基金（hedge
  fund）用到量化交易。在华尔街，传统的主观操盘手，将面临淘汰的压力，已经很少对冲基金利用基本面来选股了。

## 量化交易与一般交易方式的差异以及优缺点比较

| 交易方式   | 一般交易       | 量化交易                       |
|--------|------------|----------------------------|
| 交易依据   | 经验法则       | 历史数据金融演算                   |
| 执行速度   | 慢          | 快                          |
| 缺点     | 人性弱点：贪婪与恐惧 | 根据历史资料回测，遇到市场型态改变时策略有失效的可能 |
| 每天交易时间 | 人工盯盘有其限制   | 24小时                       |
| 同时关注商品 | 平均十档商品以内   | 可同时监控上百个金融市场               |
| 绩效验证   | 无          | 可回测验证                      |

人工交易是以传统人为方式，搜集并整理以下三大类的市场资讯：

- **基本面资讯** - 如财报、资产负债表、配股配息等
- **筹码面资讯** - 如外资进出、各券商分点、大户筹码分布等
- **技术面资讯** - 如高档低档、各种技术指标、各种型态等

经过上述的资讯统整分析之后，总结出一个具体的投资决策，最后再由人为下单买进或是卖出。

使用人工交易的缺点在于，**需要花费大量时间和精力来整理相关资料！**

对于多数的上班族来说，光是忙于工作就没有时间了，更别说是拨出时间关注市场资讯。

除此之外，**市场的资讯量过于庞大，一般人根本不知从何解读起。**

举例来说，若将同一份资料交给十个人，可能会有十种不同的投资策略！

如果等到完成：**分析完毕** → **得出结论** → **准备下单** 这三个流程，不仅需要花费很长时间，还有可能遇到人为主观交易的恐惧与贪婪，导致先前的努力全部白费。

所幸，这些问题都可以在程序交易中得到解决方案。

通过程序交易，投资人不仅能够同时交易多种商品，分散投资风险，也可以24 小时不间断地自动交易，达到时间自由的梦想！

## 量化交易取代一般交易的可能性

量化交易是依据过去历史资料作回测分析，找出具有交易优势的方法，并机械化操作，在策略设计上需依赖于程序编写者本身对金融操作的认知及技术，随着科技的进步，我们可以利用电脑帮助人们作投资决策，将自己的金融操作方式，用很明确的方式去定义和描述，通过程序去进行回测验证，评估后确认方法具有交易优势后，让程序依照所设定的规则去执行交易。

## 程序交易是什么？

在传统交易中，投资人会手动选择投资的标的以及商品买卖的时机点。

举例来说，一般要进行投资交易，我们大致需要经过以下步骤：

1. 接收资讯（从APP、看盘软件、听同事听朋友讲……）；
2. 做出买卖决策（电视上说是好股票所以买、从财报看出是好公司所以决定买进、看技术指标决定要卖……）；
3. 执行下单动作（从APP下单、用软体下单、打电话下单……）。

而程序交易能够让传统以「人」为主的交易流程，一切都交由「程序」执行！

通过程序化交易，既有的交易流程将转变为全自动化，从商品选择到买卖下单都可以完美执行，而一般程序交易的执行流程如下：

1. 通过程序软件的API接收市场的资讯（如价格、成交量、财报、即时新闻、技术指标、机构推荐股票等）；
2. 由事先定义好的策略，计算出买卖点与停损停利点（如黄金交叉则买进，死亡交叉则卖出）；
3. 当出现买卖讯号时，由程序自动进行买进或是卖出（24小时7天随时监控，再也不用担心睡觉的时候大跌）。

## 程序交易可以投资和交易哪些商品？

基本上，所有商品都可以拿来给程序交易执行，但前提是要有相对应的接口上程序串接。

以下为几个在程序交易中常见的投资商品：

- 股票与ETF （美股 / 各国股市）
- 期货（ 小道琼 / 黄金 / 原油 / 各类别期货）
- 虚拟货币（ 比特币BTC / 以太币ETH ）
- 选择权
- 债券

上述所提到的金融商品，都可以通过 程序API 将资料接入程序。

## 程序交易的基本原则

在交易前事先以程序设定好交易条件，并跟随市场趋势，达成赔小赚大的模式，并由软体找出明确的买卖点全自动进行交易。

程序会完全**客观地看待市场**，不对市场价格走势预设立场，客观静待市场趋势出现，追随市场多空变动方向。

并**经过实际历史资料验证**，由程序抓取实际历史价位等数据，进行回测验算，透过统计归纳验证程序模组的可信度与有效性。

## 程序交易常用的五大类型策略

1. 趋势策略
2. 动能策略
3. 反转逆势策略
4. 通道策略
5. 筹码策略

| 策略名称	  | 常见指标                                                                                     |
|--------|------------------------------------------------------------------------------------------|
| 趋势策略   | 均线家族（MA）<br>威廉指标（Williams %R）<br>顺势指标（CCI）<br>平滑异同移动平均线指标（MACD）<br>趋向指标（DMI）             |
| 动能策略   | 标准差（StandardDev）<br>平均真实区间（ATR）<br>动量指标（Momentum）                                        |
| 反转逆势策略 | 枢纽点分析（Pivot）<br>乖离率（BIAS）<br>相对强弱指数（RSI）<br>随机指标（KD）<br>抛物线指标（SAR）                       |
| 通道策略   | 凯勒通道（Keltner Channel）<br>唐奇安通道（Donchian Channel）<br>逆势操作系统（CDP）<br>布林通道（Bollinger Bands） |
| 筹码策略   | 外资筹码<br>三大法人筹码<br>散户筹码<br>买卖力道                                                           |

### 一、趋势策略-捕捉大行情的最佳帮手

趋势策略（顺势策略）是在趋势产生后，进场；在趋势消失后，出场。是一个投资组合中最基本需配置的策略类型。

目标在捕捉到长波段的走势，不利于盘整行情，会来回进出场消耗成本。由于趋势转换需要时间，无法进场在最高点/最低点。

趋势策略的重点在于如何定义趋势成立，并搭配合理的进出场机制。

✅常用的趋势指标：均线家族（MA）、威廉指标（Williams %R）、顺势指标（CCI）、平滑异同移动平均线指标（MACD）、趋向指标（DMI）。

### 二、动能策略-在波动中灵活冲浪

在出现向上的大波动后，进场；在出现向下的大波动后，出场。

动能投资策略目标在行情刚开始喷出时就切入卡位，属较敏感型的策略，进场成本一般会比趋势型策略还好。

波动策略通常需要搭配方向性的滤网，才能达到比较好的效果。波动会随的不同的时间变动，重点在如何找到适合当时状况的波动。

✅常用的动能指标：标准差（StandardDev）、平均真实区间（ATR）、动量指标（Momentum）。

### 三、反转逆势策略-猜头摸底

在价格跌太多出现相对低点时，进场；在价格涨太多出现相对高点时，出场。是一般投资人最喜欢的策略～不过找到相对高低点后，务必严守停损，勿与趋势为敌！

高（低）点为当下判断出来的，若之后持续创新高（低），须尊重市场，停损！一般来说胜率会较趋势型策略来的高。

✅常用的反转逆势指标：枢纽点分析（Pivot）、乖离率（BIAS）、相对强弱指数（RSI）、随机指标（KD）、抛物线指标（SAR）。

### 四、通道策略-顺势逆势两相宜

先定义一个通道（支撑与压力），在价格向上突破压力后，顺势进场or 逆势出场；在价格向下跌破支撑后，顺势出场or逆势进场。

较类似主观人工交易的压力支撑点位判断，通道策略目标在捕捉到行情惯性改变的趋势。盘整行情可改为逆势交易，关键在如何判断使用顺势与逆势的切换时间点。

✅常用的通道指标：凯勒通道（Keltner Channel）、唐奇安通道（Donchian Channel）、逆势操作系统（CDP）、布林通道（Bollinger Bands）。

### 五、筹码策略-跟着大户的脚步

分析大户的未平仓量可以知道当天主力的资金流向，并推测未来市场的走势。

拥有越多筹码的人越能影响市场，主力是市场上影响力最大的一股力量，拥有最坚强的研究与操盘团队，在市场上是长期赢家。

而散户在市场中一般是输家，跟散户反向操作通常容易获利。

✅常用的筹码指标：外资筹码、三大法人筹码、散户筹码、买卖力道

## 程序交易需要不同类型策略的原因

### 程序交易的重点－投资组合多样性

大家都知道投资要分散，才能够将风险降低。在程序交易当中我们会透过「分散商品、分散周期、分散策略」来降低风险。

- **分散「策略」**：就如同上面所提到的各类型策略，不同属性的策略所擅长的行情以及所赚赔的日子会不同，所以可以达到互补的效果，让整体的绩效更平滑。

- **分散「商品」**：每个不同的商品都有不同的经济周期，股市、虚拟货币、原物料、农产品、债券等等，透过多角化的分散可以将投资组合的相关性降低。

- **分散「周期」**：一般我们股票看的是日线，有可能从日的维度来看，盘整了好几个礼拜。但是从5分K的角度来看，行情却是暴涨又暴跌，有许多可供交易的机会。

## 参考资料

- [量化分析入門教學](https://www.yuantafutures.com.tw/investment_school_03)
- [富途牛牛量化：不寫代碼也能做量化](https://www.futunn.com/hk/learn/detail-what-is-algorithmic-trading-53384-220381041)
- [程序交易与量化交易是什么？](https://quantpass.org/what-is-program-trading/)
