# 跟我一起用Golang微服务框架实现一个CMS系统

微服务，是一种分布式软件架构。采用了分而治之的方法去解决复杂的应用问题。我们可以把复杂的系统拆解成不同的服务，并使之可以方便的进行横向扩容，提升整个系统的负载。

任何一个系统，它都需要一个管理系统，即便是使用微服务的架构也是需要的。在本文里，我们将使用[B站](https://www.bilibili.com/)开源的[Golang](https://go.dev/)语言微服务框架[Kratos](https://go-kratos.dev/en/)去实现一个最简单的CMS：博客系统。

在本文里，我们将学习到：

1. 如何用Golang实现一个CMS；
2. 如何使用微服务框架Kratos。

## 什么是 CMS？

**内容管理系统（Content Management System，CMS）**，是一种位于WEB前端（Web 服务器）和后端办公系统或流程（内容创作、编辑）之间的软件系统。内容的创作人员、编辑人员、发布人员使用内容管理系统来提交、修改、审批、发布内容。这里指的“内容”可能包括文件、表格、图片、数据库中的数据甚至视频等一切你想要发布到Internet、Intranet以及Extranet网站的信息。

随着个性化的发展，内容管理还辅助WEB前端将内容以个性化的方式提供给内容使用者，即提供个性化的门户框架，以基于WEB技术将内容更好地推送到用户的浏览器端。

内容管理系统是企业信息化建设和电子政务的新宠，也是一个相对较新的市场。对于内容管理，业界还没有一个统一的定义，不同的机构有不同的理解。

任何网络内容管理的基本解决方案都可以帮助您上传或编写内容、对其格式化、添加标题和图像，以及执行一些后台操作，例如 SEO。但在多设备、以用户为中心的世界中，这还不够。数字营销已经迭代发展，在结合移动应用程序、物联网等的同时更深入地关注客户体验。这一切都依赖于将内容管理与内容呈现分开的 **Web Content Management System**。

## CMS/WCM 解决方案的主要功能

内容管理解决方案中的重要功能包括：

- **内容管理：** 您如何以及能如何轻松地创建、编辑、发布和管理网络内容（包括文本、图像、视频和音频）？
- **呈现：** 客户从一个设备跳到另一个设备，没有营销组织可以投入人力来针对笔记本电脑、平板电脑和最常见智能手机格式来优化每一篇博客文章或目录页面。您希望创建一次并让 CMS 自动适配设备进行展示。
- **集成：** 解决方案是整体的，如 Sitecore 的 Experience Platform，还是依赖 API 将您的内容连接到其他应用程序（例如 CRM 和 ERP 工具）以及关键的外部平台（例如 Facebook）？您需要的 API 是否可用？
- **商务：** 一个关键的集成是能够将个性化的营销演示连接到您的数字商务系统。如果您将此目的地从地图上移开，则无法解决“客户旅程”问题。
- **个性化：** 它能否根据角色、位置，甚至基于过去与您的品牌的互动将相关内容定位到唯一访问者？
- **分析：** 您正在准备内容，但有人阅读吗？他们接下来会做什么？需要对绩效的可见性，以便您可以优化您的工作并定义投资回报率。
- **治理：** 您能在发布内容后找到它吗？您能严格控制谁可以对其进行批准、更改、发布、删除吗？您能看出内容什么时候已经过时了吗？
- **支持多种语言：** 您是否将其翻译成其他语言并在全球发布？解决方案能够支持这一点吗？
- **可扩展性/性能/稳定性：** 从基本技术的角度来看，该解决方案是否可靠，它会随着组织的需求而增长吗？您可能想要看看云内容管理。
- **培训/供应商支持：** WCM 解决方案越来越复杂，承诺也越来越多，但大多数团队需要帮助才能达到和超越基本水平。

## 项目结构

本文的代码将采用MonoRepo风格的代码仓库来管理项目，即所有的后端微服务，以及前端代码都在一个代码仓库当中。

## 后端架构

在本文，我们使用了一个极简的架构设计，只有3种服务：

1. Core Service，核心逻辑都在这里处理，以及数据库处理，其他服务通过gRPC调用该服务；
2. Admin Service，一个BFF，提供REST服务给后台管理系统；
3. Front Service，一个BFF，提供REST服务给前台网站或者APP。

## 参考资料

- [内容管理系统 - 百度百科](https://baike.baidu.com/item/%E5%86%85%E5%AE%B9%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/2683135)
- [什么是 CMS（Content Management System）？](https://www.sitecore.com/zh-cn/knowledge-center/digital-marketing-resources/what-is-a-cms)
- [What Is a Monorepo?](https://www.perforce.com/blog/vcs/what-monorepo)
