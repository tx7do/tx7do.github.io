<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1256px" height="1061px" viewBox="-0.5 -0.5 1256 1061" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2022-03-09T07:32:20.496Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/15.8.7 Chrome/91.0.4472.164 Electron/13.6.2 Safari/537.36&quot; etag=&quot;l9sDqnYfFZ06x5xWjN6Z&quot; version=&quot;15.8.7&quot; type=&quot;device&quot;&gt;&lt;diagram name=&quot;Page-1&quot; id=&quot;efa7a0a1-bf9b-a30e-e6df-94a7791c09e9&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="679" y="288.18" width="160" height="98.36" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="679" y="288.18" width="160" height="98.36" fill="#eeeeee" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 98px; padding-top: 288px; margin-left: 679px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 98px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center ; text-decoration: underline"><strong>TbNode</strong></p><hr /><p style="margin: 0px ; margin-left: 8px">init()<br />onMsg()</p><p style="margin: 0px ; margin-left: 8px">destroy()</p><p style="margin: 0px ; margin-left: 8px"><span>onPartitionChangeMsg()</span><br /></p></div></div></div></foreignObject><text x="679" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbNode...</text></switch></g><rect x="1073" y="118.36" width="180" height="50" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="118.36" width="180" height="50" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 50px; padding-top: 118px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 50px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbOriginatorTypeFilterNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p></div></div></div></foreignObject><text x="1073" y="130" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbOriginatorTypeFilterNode...</text></switch></g><rect x="330" y="495.36" width="180" height="80" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="330" y="495.36" width="180" height="80" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 80px; padding-top: 495px; margin-left: 330px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 80px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center ; text-decoration: underline"><strong>DefaultTbContext</strong></p><hr /><p style="margin: 0px ; margin-left: 8px">ActorSystemContext mainCtx</p><p style="margin: 0px ; margin-left: 8px">ruleChainName</p><p style="margin: 0px ; margin-left: 8px">nodeCtx<br /></p></div></div></div></foreignObject><text x="330" y="507" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">DefaultTbContext...</text></switch></g><rect x="0" y="345.36" width="160" height="140" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="0" y="345.36" width="160" height="140" fill="#eeeeee" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 140px; padding-top: 345px; margin-left: 0px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 140px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center ; text-decoration: underline"><strong>ScriptEngine</strong></p><hr /><p style="margin: 0px ; margin-left: 8px">executeUpdateAsync()</p><p style="margin: 0px ; margin-left: 8px">executeGenerateAsync()</p><p style="margin: 0px ; margin-left: 8px">executeFilterAsync()</p><p style="margin: 0px ; margin-left: 8px">executeSwitchAsync()</p><p style="margin: 0px ; margin-left: 8px">executeJsonAsync()</p><p style="margin: 0px ; margin-left: 8px">executeToStringAsync</p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">destroy()</span><br /></p></div></div></div></foreignObject><text x="0" y="357" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ScriptEngine...</text></switch></g><rect x="340" y="6.36" width="160" height="440" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="340" y="6.36" width="160" height="440" fill="#eeeeee" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 440px; padding-top: 6px; margin-left: 340px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 440px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center ; text-decoration: underline"><strong>TbContext</strong></p><hr /><p style="margin: 0px ; margin-left: 8px">tellSuccess()</p><p style="margin: 0px ; margin-left: 8px">tellNext()</p><p style="margin: 0px ; margin-left: 8px">tellSelf()</p><p style="margin: 0px ; margin-left: 8px">tellFailure()</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">enqueue()</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">input()</p><p style="margin: 0px ; margin-left: 8px">output()</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">ack()</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">newMsg()</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">getRulechainName()</p><p style="margin: 0px ; margin-left: 8px">getTenantId()</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">getAttributesService()</p><p style="margin: 0px ; margin-left: 8px">getTenantService()</p><p style="margin: 0px ; margin-left: 8px">getUserService()</p><p style="margin: 0px ; margin-left: 8px">getDeviceService()</p><p style="margin: 0px ; margin-left: 8px">getAlarmService()</p><p style="margin: 0px ; margin-left: 8px">getRuleChainService()</p><p style="margin: 0px ; margin-left: 8px">getRpcService()</p><p style="margin: 0px ; margin-left: 8px">getTelemetryService()</p><p style="margin: 0px ; margin-left: 8px">getTimeseriesService()</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">removeListeners()</p></div></div></div></foreignObject><text x="340" y="18" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbContext...</text></switch></g><rect x="0" y="721" width="160" height="107" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="0" y="721" width="160" height="107" fill="#eeeeee" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 107px; padding-top: 721px; margin-left: 0px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 107px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbActorSystem</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">getScheduler()</p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">getActor()</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">stop()</span></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">tell()</span></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">broadcastsToChildren()</span></p></div></div></div></foreignObject><text x="0" y="733" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbActorSystem...</text></switch></g><rect x="0" y="507" width="190" height="148.36" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="0" y="507" width="190" height="148.36" fill="#eeeeee" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 192px; height: 148px; padding-top: 507px; margin-left: 0px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 190px; height: 148px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>RuleEngineTelemetryService</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">saveAndNotify()</p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">saveWithoutLatestAndNotify()</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">saveLatestAndNotify()</span></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">saveAttrAndNotify()</span></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">deleteAndNotify()</span></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">deleteLatest()</span></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">deleteAllLatest()</span></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">deleteTimeseriesAndNotify()</span></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px"><br /></span></p></div></div></div></foreignObject><text x="0" y="519" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">RuleEngineTelemetryService...</text></switch></g><path d="M 420 495.36 L 420 460.48" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 420 447.48 L 426.5 460.48 L 413.5 460.48 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1073" y="288.36" width="180" height="50" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="288.36" width="180" height="50" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 50px; padding-top: 288px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 50px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbMsgTypeFilterNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p></div></div></div></foreignObject><text x="1073" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbMsgTypeFilterNode...</text></switch></g><rect x="1073" y="516.36" width="180" height="50" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="516.36" width="180" height="50" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 50px; padding-top: 516px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 50px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbMsgTimeseriesNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p></div></div></div></foreignObject><text x="1073" y="528" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbMsgTimeseriesNode...</text></switch></g><rect x="1073" y="588.36" width="180" height="50" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="588.36" width="180" height="50" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 50px; padding-top: 588px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 50px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbMsgAttributesNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p></div></div></div></foreignObject><text x="1073" y="600" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbMsgAttributesNode...</text></switch></g><rect x="1073" y="658.36" width="180" height="50" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="658.36" width="180" height="50" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 50px; padding-top: 658px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 50px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbRuleChainOutputNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p></div></div></div></foreignObject><text x="1073" y="670" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbRuleChainOutputNode...</text></switch></g><rect x="1073" y="0" width="180" height="90" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="0" width="180" height="90" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 90px; padding-top: 0px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 90px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbDeviceProfileNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p><p style="margin: 0px ; margin-left: 8px">cache</p><p style="margin: 0px ; margin-left: 8px">ctx</p><p style="margin: 0px ; margin-left: 8px">deviceStates</p></div></div></div></foreignObject><text x="1073" y="12" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbDeviceProfileNode...</text></switch></g><rect x="1073" y="204.18" width="180" height="50" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="204.18" width="180" height="50" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 50px; padding-top: 204px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 50px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbMsgTypeSwitchNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p></div></div></div></foreignObject><text x="1073" y="216" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbMsgTypeSwitchNode...</text></switch></g><rect x="1073" y="426.36" width="180" height="70" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="426.36" width="180" height="70" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 70px; padding-top: 426px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 70px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbLogNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p><p style="margin: 0px ; margin-left: 8px">jsEngine</p></div></div></div></foreignObject><text x="1073" y="438" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbLogNode...</text></switch></g><rect x="1073" y="358.36" width="180" height="50" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="358.36" width="180" height="50" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 50px; padding-top: 358px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 50px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbSendRPCRequestNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p></div></div></div></foreignObject><text x="1073" y="370" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbSendRPCRequestNode...</text></switch></g><rect x="1073" y="738.36" width="180" height="70" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="738.36" width="180" height="70" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 70px; padding-top: 738px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 70px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbJsFilterNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p><p style="margin: 0px ; margin-left: 8px">jsEngine</p></div></div></div></foreignObject><text x="1073" y="750" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbJsFilterNode...</text></switch></g><path d="M 1073 45 L 847.82 326.34" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 839.7 336.49 L 842.75 322.28 L 852.9 330.4 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 143.36 L 849.87 328.35" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 839.86 336.65 L 845.72 323.35 L 854.02 333.35 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 229.18 L 851.81 331.44" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 840.01 336.89 L 849.09 325.54 L 854.54 337.34 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 313.36 L 853.04 335.92" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 840.11 337.25 L 852.38 329.45 L 853.71 342.39 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 383.36 L 852.85 340.08" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 840.1 337.58 L 854.11 333.71 L 851.6 346.46 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 461.36 L 851.47 343.97" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 839.99 337.88 L 854.52 338.23 L 848.43 349.71 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 541.36 L 849.64 346.64" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 839.84 338.09 L 853.91 341.74 L 845.37 351.54 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 613.36 L 848.13 348.13" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 839.72 338.21 L 853.09 343.93 L 843.17 352.33 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 683.36 L 846.91 349.05" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 839.63 338.29 L 852.29 345.41 L 841.52 352.7 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 773.36 L 845.68 349.8" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 839.53 338.35 L 851.4 346.73 L 839.95 352.87 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 679 337.36 L 502.24 336.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 514.15 329.94 L 501.12 336.37 L 514.08 342.94" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 337px; margin-left: 589px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Use</div></div></div></foreignObject><text x="589" y="340" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Use</text></switch></g><rect x="679" y="2.86" width="160" height="225" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="679" y="2.86" width="160" height="225" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 225px; padding-top: 3px; margin-left: 679px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 225px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center ; text-decoration: underline"><strong>TbMsg</strong></p><hr /><p style="margin: 0px ; margin-left: 8px">queueName</p><p style="margin: 0px ; margin-left: 8px">id</p><p style="margin: 0px ; margin-left: 8px">ts<br /></p><p style="margin: 0px ; margin-left: 8px">type</p><p style="margin: 0px ; margin-left: 8px">originator</p><p style="margin: 0px ; margin-left: 8px">customerId</p><p style="margin: 0px ; margin-left: 8px">metaData</p><p style="margin: 0px ; margin-left: 8px">dataType</p><p style="margin: 0px ; margin-left: 8px">data</p><p style="margin: 0px ; margin-left: 8px">ruleChainId</p><p style="margin: 0px ; margin-left: 8px">ruleNodeId</p><p style="margin: 0px ; margin-left: 8px">ctx</p><p style="margin: 0px ; margin-left: 8px">callback</p><p style="margin: 0px ; margin-left: 8px"><br /></p></div></div></div></foreignObject><text x="679" y="15" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbMsg...</text></switch></g><path d="M 759 288.18 L 759 230.1" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 765.5 241.98 L 759 228.98 L 752.5 241.98" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 258px; margin-left: 759px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Use</div></div></div></foreignObject><text x="759" y="261" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Use</text></switch></g><path d="M 500 116.36 L 676.76 115.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 664.92 121.94 L 677.88 115.37 L 664.85 108.94" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 116px; margin-left: 590px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Use</div></div></div></foreignObject><text x="590" y="119" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Use</text></switch></g><rect x="649" y="477" width="220" height="235" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="649" y="477" width="220" height="235" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 222px; height: 235px; padding-top: 477px; margin-left: 649px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 220px; height: 235px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>RuleNodeActorMessageProcessor</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">ruleChainName</p><p style="margin: 0px ; margin-left: 8px">self</p><p style="margin: 0px ; margin-left: 8px">apiUsageClient<br /></p><p style="margin: 0px ; margin-left: 8px">ruleNode</p><p style="margin: 0px ; margin-left: 8px">TbNode tbNode</p><p style="margin: 0px ; margin-left: 8px">defaultCtx</p><p style="margin: 0px ; margin-left: 8px">info</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">start()</p><p style="margin: 0px ; margin-left: 8px">stop()</p><p style="margin: 0px ; margin-left: 8px">onUpdate()</p><p style="margin: 0px ; margin-left: 8px">onPartitionChangeMsg()</p><p style="margin: 0px ; margin-left: 8px">onRuleToSelfMsg()</p><p style="margin: 0px ; margin-left: 8px">onRuleChainToRuleNodeMsg()</p></div></div></div></foreignObject><text x="649" y="489" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">RuleNodeActorMessageProcessor...</text></switch></g><path d="M 633.01 535.76 L 579.5 535.8 L 512.24 535.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 648.01 535.75 L 640.52 540.17 L 633.01 535.76 L 640.51 531.34 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 524.16 528.95 L 511.12 535.37 L 524.08 541.95" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 536px; margin-left: 651px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="651" y="536" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px">1</text></switch></g><path d="M 759 461.01 L 759 388.78" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 759 476.01 L 754.59 468.51 L 759 461.01 L 763.41 468.51 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 765.5 400.66 L 759 387.66 L 752.5 400.66" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 474px; margin-left: 758px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="758" y="474" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px">1</text></switch></g><rect x="679" y="797" width="160" height="80" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="679" y="797" width="160" height="80" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 80px; padding-top: 797px; margin-left: 679px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 80px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>RuleNodeActor</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">ruleChainName<br /></p><p style="margin: 0px ; margin-left: 8px">ruleChainId</p><p style="margin: 0px ; margin-left: 8px">ruleNodeId<br /></p></div></div></div></foreignObject><text x="679" y="809" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">RuleNodeActor...</text></switch></g><path d="M 759 797 L 759 730.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 759 713.12 L 767.5 730.12 L 750.5 730.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 754px; margin-left: 759px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="759" y="757" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Extends</text></switch></g><rect x="330" y="680.36" width="180" height="376.64" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="330" y="680.36" width="180" height="376.64" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 377px; padding-top: 680px; margin-left: 330px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 377px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>ActorSystemContext</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">apiUsageStateService<br /></p><p style="margin: 0px ; margin-left: 8px">apiUsageClient</p><p style="margin: 0px ; margin-left: 8px">serviceInfoProvider<br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">actorService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">deviceService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">userService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">ruleChainService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">ruleNodeStateService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">tsService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">attributesService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">eventService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">auditLogService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">alarmService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">mailService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">smsService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">tbCoreToTransportService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">tbRuleEngineDeviceRpcService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">tbCoreDeviceRpcService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">otaPackageService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">tbRpcService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">TbActorSystem actorSystem</span><br /></p></div></div></div></foreignObject><text x="330" y="692" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ActorSystemContext...</text></switch></g><path d="M 420 591.35 L 420 678.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 420 576.35 L 424.41 583.85 L 420 591.35 L 415.59 583.85 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 413.5 666.24 L 420 679.24 L 426.5 666.24" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 572px; margin-left: 425px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="425" y="572" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px">1</text></switch></g><rect x="0" y="915" width="160" height="92" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="0" y="915" width="160" height="92" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 92px; padding-top: 915px; margin-left: 0px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 92px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>DefaultTbActorSystem</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">dispatchers<br /></p><p style="margin: 0px ; margin-left: 8px">actors</p><p style="margin: 0px ; margin-left: 8px">settings<br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">scheduler</span><br /></p></div></div></div></foreignObject><text x="0" y="927" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">DefaultTbActorSystem...</text></switch></g><path d="M 80 915 L 80 846.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 80 829.12 L 88.5 846.12 L 71.5 846.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 871px; margin-left: 80px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="80" y="874" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Extends</text></switch></g><path d="M 314.01 774.52 L 162.24 774.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 329.01 774.52 L 321.51 778.93 L 314.01 774.52 L 321.51 770.11 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 174.12 768 L 161.12 774.5 L 174.12 781" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 775px; margin-left: 332px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="332" y="775" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px">1</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>