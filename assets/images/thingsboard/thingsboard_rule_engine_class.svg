<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1257px" height="1005px" viewBox="-0.5 -0.5 1257 1005" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2022-03-09T07:50:23.408Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/15.8.7 Chrome/91.0.4472.164 Electron/13.6.2 Safari/537.36&quot; etag=&quot;w_ToeDleXJobtIMuGaPe&quot; version=&quot;15.8.7&quot; type=&quot;device&quot;&gt;&lt;diagram name=&quot;Page-1&quot; id=&quot;efa7a0a1-bf9b-a30e-e6df-94a7791c09e9&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="679" y="288.18" width="160" height="98.36" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="679" y="288.18" width="160" height="98.36" fill="#eeeeee" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 98px; padding-top: 288px; margin-left: 679px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 98px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center ; text-decoration: underline"><strong>TbNode</strong></p><hr /><p style="margin: 0px ; margin-left: 8px">init()<br />onMsg()</p><p style="margin: 0px ; margin-left: 8px">destroy()</p><p style="margin: 0px ; margin-left: 8px"><span>onPartitionChangeMsg()</span><br /></p></div></div></div></foreignObject><text x="679" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbNode...</text></switch></g><rect x="1073" y="118.36" width="180" height="50" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="118.36" width="180" height="50" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 50px; padding-top: 118px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 50px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbOriginatorTypeFilterNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p></div></div></div></foreignObject><text x="1073" y="130" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbOriginatorTypeFilterNode...</text></switch></g><rect x="330" y="495.36" width="180" height="80" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="330" y="495.36" width="180" height="80" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 80px; padding-top: 495px; margin-left: 330px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 80px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center ; text-decoration: underline"><strong>DefaultTbContext</strong></p><hr /><p style="margin: 0px ; margin-left: 8px">ActorSystemContext mainCtx</p><p style="margin: 0px ; margin-left: 8px">ruleChainName</p><p style="margin: 0px ; margin-left: 8px">nodeCtx<br /></p></div></div></div></foreignObject><text x="330" y="507" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">DefaultTbContext...</text></switch></g><rect x="340" y="6.36" width="160" height="440" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="340" y="6.36" width="160" height="440" fill="#eeeeee" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 440px; padding-top: 6px; margin-left: 340px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 440px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center ; text-decoration: underline"><strong>TbContext</strong></p><hr /><p style="margin: 0px ; margin-left: 8px">tellSuccess()</p><p style="margin: 0px ; margin-left: 8px">tellNext()</p><p style="margin: 0px ; margin-left: 8px">tellSelf()</p><p style="margin: 0px ; margin-left: 8px">tellFailure()</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">enqueue()</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">input()</p><p style="margin: 0px ; margin-left: 8px">output()</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">ack()</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">newMsg()</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">getRulechainName()</p><p style="margin: 0px ; margin-left: 8px">getTenantId()</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">getAttributesService()</p><p style="margin: 0px ; margin-left: 8px">getTenantService()</p><p style="margin: 0px ; margin-left: 8px">getUserService()</p><p style="margin: 0px ; margin-left: 8px">getDeviceService()</p><p style="margin: 0px ; margin-left: 8px">getAlarmService()</p><p style="margin: 0px ; margin-left: 8px">getRuleChainService()</p><p style="margin: 0px ; margin-left: 8px">getRpcService()</p><p style="margin: 0px ; margin-left: 8px">getTelemetryService()</p><p style="margin: 0px ; margin-left: 8px">getTimeseriesService()</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">removeListeners()</p></div></div></div></foreignObject><text x="340" y="18" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbContext...</text></switch></g><rect x="0" y="694" width="160" height="107" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="0" y="694" width="160" height="107" fill="#eeeeee" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 107px; padding-top: 694px; margin-left: 0px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 107px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbActorSystem</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">getScheduler()</p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">getActor()</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">stop()</span></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">tell()</span></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">broadcastsToChildren()</span></p></div></div></div></foreignObject><text x="0" y="706" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbActorSystem...</text></switch></g><path d="M 420 495.36 L 420 460.48" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 420 447.48 L 426.5 460.48 L 413.5 460.48 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1073" y="288.36" width="180" height="50" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="288.36" width="180" height="50" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 50px; padding-top: 288px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 50px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbMsgTypeFilterNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p></div></div></div></foreignObject><text x="1073" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbMsgTypeFilterNode...</text></switch></g><rect x="1073" y="516.36" width="180" height="50" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="516.36" width="180" height="50" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 50px; padding-top: 516px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 50px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbMsgTimeseriesNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p></div></div></div></foreignObject><text x="1073" y="528" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbMsgTimeseriesNode...</text></switch></g><rect x="1073" y="588.36" width="180" height="50" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="588.36" width="180" height="50" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 50px; padding-top: 588px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 50px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbMsgAttributesNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p></div></div></div></foreignObject><text x="1073" y="600" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbMsgAttributesNode...</text></switch></g><rect x="1073" y="658.36" width="180" height="50" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="658.36" width="180" height="50" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 50px; padding-top: 658px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 50px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbRuleChainOutputNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p></div></div></div></foreignObject><text x="1073" y="670" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbRuleChainOutputNode...</text></switch></g><rect x="1073" y="0" width="180" height="90" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="0" width="180" height="90" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 90px; padding-top: 0px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 90px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbDeviceProfileNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p><p style="margin: 0px ; margin-left: 8px">cache</p><p style="margin: 0px ; margin-left: 8px">ctx</p><p style="margin: 0px ; margin-left: 8px">deviceStates</p></div></div></div></foreignObject><text x="1073" y="12" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbDeviceProfileNode...</text></switch></g><rect x="1073" y="204.18" width="180" height="50" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="204.18" width="180" height="50" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 50px; padding-top: 204px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 50px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbMsgTypeSwitchNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p></div></div></div></foreignObject><text x="1073" y="216" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbMsgTypeSwitchNode...</text></switch></g><rect x="1073" y="426.36" width="180" height="70" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="426.36" width="180" height="70" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 70px; padding-top: 426px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 70px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbLogNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p><p style="margin: 0px ; margin-left: 8px">jsEngine</p></div></div></div></foreignObject><text x="1073" y="438" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbLogNode...</text></switch></g><rect x="1073" y="358.36" width="180" height="50" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="358.36" width="180" height="50" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 50px; padding-top: 358px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 50px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbSendRPCRequestNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p></div></div></div></foreignObject><text x="1073" y="370" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbSendRPCRequestNode...</text></switch></g><rect x="1073" y="738.36" width="180" height="70" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="1073" y="738.36" width="180" height="70" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 70px; padding-top: 738px; margin-left: 1073px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 70px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>TbJsFilterNode</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">config</p><p style="margin: 0px ; margin-left: 8px">jsEngine</p></div></div></div></foreignObject><text x="1073" y="750" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbJsFilterNode...</text></switch></g><path d="M 1073 45 L 847.82 326.34" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 839.7 336.49 L 842.75 322.28 L 852.9 330.4 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 143.36 L 849.87 328.35" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 839.86 336.65 L 845.72 323.35 L 854.02 333.35 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 229.18 L 851.81 331.44" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 840.01 336.89 L 849.09 325.54 L 854.54 337.34 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 313.36 L 853.04 335.92" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 840.11 337.25 L 852.38 329.45 L 853.71 342.39 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 383.36 L 852.85 340.08" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 840.1 337.58 L 854.11 333.71 L 851.6 346.46 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 461.36 L 851.47 343.97" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 839.99 337.88 L 854.52 338.23 L 848.43 349.71 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 541.36 L 849.64 346.64" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 839.84 338.09 L 853.91 341.74 L 845.37 351.54 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 613.36 L 848.13 348.13" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 839.72 338.21 L 853.09 343.93 L 843.17 352.33 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 683.36 L 846.91 349.05" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 839.63 338.29 L 852.29 345.41 L 841.52 352.7 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1073 773.36 L 845.68 349.8" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 839.53 338.35 L 851.4 346.73 L 839.95 352.87 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 679 337.36 L 502.24 336.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 514.15 329.94 L 501.12 336.37 L 514.08 342.94" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 337px; margin-left: 590px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Use</div></div></div></foreignObject><text x="590" y="340" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Use</text></switch></g><rect x="679" y="2.86" width="160" height="225" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="679" y="2.86" width="160" height="225" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 225px; padding-top: 3px; margin-left: 679px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 225px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 0px ; margin-top: 4px ; text-align: center ; text-decoration: underline"><strong>TbMsg</strong></p><hr /><p style="margin: 0px ; margin-left: 8px">queueName</p><p style="margin: 0px ; margin-left: 8px">id</p><p style="margin: 0px ; margin-left: 8px">ts<br /></p><p style="margin: 0px ; margin-left: 8px">type</p><p style="margin: 0px ; margin-left: 8px">originator</p><p style="margin: 0px ; margin-left: 8px">customerId</p><p style="margin: 0px ; margin-left: 8px">metaData</p><p style="margin: 0px ; margin-left: 8px">dataType</p><p style="margin: 0px ; margin-left: 8px">data</p><p style="margin: 0px ; margin-left: 8px">ruleChainId</p><p style="margin: 0px ; margin-left: 8px">ruleNodeId</p><p style="margin: 0px ; margin-left: 8px">ctx</p><p style="margin: 0px ; margin-left: 8px">callback</p><p style="margin: 0px ; margin-left: 8px"><br /></p></div></div></div></foreignObject><text x="679" y="15" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">TbMsg...</text></switch></g><path d="M 759 288.18 L 759 230.1" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 765.5 241.98 L 759 228.98 L 752.5 241.98" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 258px; margin-left: 759px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Use</div></div></div></foreignObject><text x="759" y="261" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Use</text></switch></g><path d="M 500 116.36 L 676.76 115.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 664.92 121.94 L 677.88 115.37 L 664.85 108.94" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 116px; margin-left: 589px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Use</div></div></div></foreignObject><text x="589" y="119" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Use</text></switch></g><rect x="649" y="477" width="220" height="235" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="649" y="477" width="220" height="235" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 222px; height: 235px; padding-top: 477px; margin-left: 649px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 220px; height: 235px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>RuleNodeActorMessageProcessor</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">ruleChainName</p><p style="margin: 0px ; margin-left: 8px">self</p><p style="margin: 0px ; margin-left: 8px">apiUsageClient<br /></p><p style="margin: 0px ; margin-left: 8px">ruleNode</p><p style="margin: 0px ; margin-left: 8px">TbNode tbNode</p><p style="margin: 0px ; margin-left: 8px">defaultCtx</p><p style="margin: 0px ; margin-left: 8px">info</p><p style="margin: 0px ; margin-left: 8px"><br /></p><p style="margin: 0px ; margin-left: 8px">start()</p><p style="margin: 0px ; margin-left: 8px">stop()</p><p style="margin: 0px ; margin-left: 8px">onUpdate()</p><p style="margin: 0px ; margin-left: 8px">onPartitionChangeMsg()</p><p style="margin: 0px ; margin-left: 8px">onRuleToSelfMsg()</p><p style="margin: 0px ; margin-left: 8px">onRuleChainToRuleNodeMsg()</p></div></div></div></foreignObject><text x="649" y="489" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">RuleNodeActorMessageProcessor...</text></switch></g><path d="M 633.01 535.75 L 579.47 535.76 L 512.24 535.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 648.01 535.75 L 640.51 540.16 L 633.01 535.75 L 640.51 531.34 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 524.16 528.94 L 511.12 535.37 L 524.08 541.94" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 522px; margin-left: 632px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="632" y="522" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px">1</text></switch></g><path d="M 759 461.01 L 759 388.78" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 759 476.01 L 754.59 468.51 L 759 461.01 L 763.41 468.51 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 765.5 400.66 L 759 387.66 L 752.5 400.66" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 472px; margin-left: 772px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="772" y="472" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px">1</text></switch></g><rect x="679" y="797" width="160" height="80" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="679" y="797" width="160" height="80" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 80px; padding-top: 797px; margin-left: 679px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 80px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>RuleNodeActor</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">ruleChainName<br /></p><p style="margin: 0px ; margin-left: 8px">ruleChainId</p><p style="margin: 0px ; margin-left: 8px">ruleNodeId<br /></p></div></div></div></foreignObject><text x="679" y="809" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">RuleNodeActor...</text></switch></g><path d="M 759 797 L 759 730.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 759 713.12 L 767.5 730.12 L 750.5 730.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 755px; margin-left: 759px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="759" y="758" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Extends</text></switch></g><rect x="330" y="663.36" width="180" height="336.64" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="330" y="663.36" width="180" height="336.64" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 337px; padding-top: 663px; margin-left: 330px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 337px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>ActorSystemContext</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">apiUsageStateService<br /></p><p style="margin: 0px ; margin-left: 8px">apiUsageClient</p><p style="margin: 0px ; margin-left: 8px">serviceInfoProvider<br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">actorService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">deviceService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">userService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">ruleChainService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">ruleNodeStateService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">tsService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">attributesService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">eventService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">auditLogService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">alarmService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">mailService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">smsService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">tbCoreToTransportService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">tbRuleEngineDeviceRpcService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">tbCoreDeviceRpcService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">otaPackageService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">tbRpcService</span><br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">TbActorSystem actorSystem</span><br /></p></div></div></div></foreignObject><text x="330" y="675" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ActorSystemContext...</text></switch></g><path d="M 420 591.35 L 420 661.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 420 576.35 L 424.41 583.85 L 420 591.35 L 415.59 583.85 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 413.5 649.24 L 420 662.24 L 426.5 649.24" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 602px; margin-left: 432px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="432" y="602" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px">1</text></switch></g><rect x="0" y="888" width="160" height="92" fill="#000000" stroke="#000000" pointer-events="all" transform="translate(2,3)" opacity="0.25"/><rect x="0" y="888" width="160" height="92" fill="#ffcccc" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 92px; padding-top: 888px; margin-left: 0px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 92px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 4px 0px 0px ; text-align: center"><span style="font-size: 12px"><b><u>DefaultTbActorSystem</u></b></span><br /></p><hr /><p style="margin: 0px ; margin-left: 8px">dispatchers<br /></p><p style="margin: 0px ; margin-left: 8px">actors</p><p style="margin: 0px ; margin-left: 8px">settings<br /></p><p style="margin: 0px ; margin-left: 8px"><span style="font-size: 12px">scheduler</span><br /></p></div></div></div></foreignObject><text x="0" y="900" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">DefaultTbActorSystem...</text></switch></g><path d="M 80 888 L 80 819.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 80 802.12 L 88.5 819.12 L 71.5 819.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 844px; margin-left: 80px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Extends</div></div></div></foreignObject><text x="80" y="848" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Extends</text></switch></g><path d="M 314.01 747.52 L 162.24 747.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 329.01 747.52 L 321.51 751.93 L 314.01 747.52 L 321.51 743.11 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 174.12 741 L 161.12 747.5 L 174.12 754" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 742px; margin-left: 312px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">1</div></div></div></foreignObject><text x="312" y="742" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px">1</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>